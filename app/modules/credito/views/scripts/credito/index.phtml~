<?='<?xml version="1.0" encoding="'.$this->encoding.'"?>'."\n".'<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>'."\n".'<?xml-stylesheet href="'.$this->baseUrl().'/www/css/view.css" type="text/css"?>'."\n";?><window title='<?=$this->title.' : '.$this->subTitle?>' orient='vertical' xmlns='http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul' onload="f_cargar()"><script src='<?=$this->baseUrl()?>/www/js/prototype_xul.js'/><script src='<?=$this->baseUrl()?>/www/js/validate.prototype.js' /><script src='<?=$this->baseUrl()?>/www/js/quipu_xul.js' /><keyset><key keycode='VK_RETURN' oncommand='if (document.commandDispatcher.focusedElement.tagName!="button") document.commandDispatcher.advanceFocus();'/></keyset><script>     Quipu.campos=new Array('COD','CLIENTE_COD','NOMBRES','DIR_NEGOCIO','DOC_VIV','DOC_PER','DOC_NEG','MONTO','PLAZO','DIRE','LOCALIDAD_COD','LOCALIDAD_NOM','OBS', 'DEP_ADULTO','DEP_MENOR','VAL_INMUEBLE','VAL_MUEBLE_CLIENTE','VAL_MUEBLE_NEGOCIO','SAL_TOT_1','SAL_TOT_2','ACREEDOR','CAP_TRAB_EFECTIVO','CAP_TRAB_MERCA','VENT_ING','OTROS_ING','COSTO_INSUMO','GASTO_FAMILIAR','GASTO_NEGOCIO','PAGO_PROM_1','PAGO_PROM_2','PAGO_PROM_ACREEDOR','GASTO_PERSONAL','SALDO','OPINION_ANALISTA', 'LOCALIDAD_NEGOCIO','LOCALIDAD_NEG_NOM','OPINION_SBS','ANALISTA_COD');var aval1='';var aval2='';function f_cargar(){  f_capturar_linea();  $('FEC').focus();}function f_guardar(){  if (f_validar()){      new Ajax.Request(                    '<?=$this->url(array('action'=>'index'))?>',  { method:'post',      parameters: Quipu.toParams('COD','CLIENTE_COD','FEC','DIR_NEGOCIO','CIIU_COD','DOC_VIV','DOC_PER','DOC_NEG','LINEA_COD','MODALIDAD_COD','DESTINO_COD','MONTO','PLAZO','OBS','TI_MORA','TI_MENSUAL','TI_COMPENSA', 'DEP_ADULTO','DEP_MENOR','VAL_INMUEBLE','VAL_MUEBLE_CLIENTE','VAL_MUEBLE_NEGOCIO','SAL_TOT_1','SAL_TOT_2','ACREEDOR','CAP_TRAB_EFECTIVO','CAP_TRAB_MERCA','VENT_ING','OTROS_ING','COSTO_INSUMO','GASTO_FAMILIAR','GASTO_NEGOCIO','PAGO_PROM_1','PAGO_PROM_2','PAGO_PROM_ACREEDOR','GASTO_PERSONAL','SALDO','OPINION_ANALISTA','OPINION_SBS','ANALISTA_COD' ,{AVAL1: aval1, AVAL2:aval2}),              onSuccess: function(t) {               r=t.responseJSON;                alert(r.msg);               if (r.code==0){                  Quipu.nuevoRegistro();                 Quipu.listClear($('lb'));                 Quipu.print('<?=$this->url(array('module'=>'legal','controller'=>'credito','action'=>'solicitudcliente'))?>/COD/'+r.data.cod,'solicitud','<?=$this->baseUrl()?>');                 $('COD').value=r.data.nuevo;                                  $('MODALIDAD_COD').value='F';                 $('FEC').focus();               }              }   } );  }}function f_anadir_aval(){  if ($('lb').getRowCount()==2)    Quipu.alertError('Sólo puede tener 2 avales como Maximo');  else{    var bcliente=window.open("<?=$this->url(array('controller'=>'cliente',action=>'buscar'))?>?f=f_capturar_aval","bc","chrome,dialog,modal,titlebar=no,height=400,width=600");    bcliente.creator=self;  }}function f_capturar_linea(){  new Ajax.Request(                   '<?=$this->url(array('action'=>'linea'))?>',      {method: 'post',       parameters: { COD : $('LINEA_COD').value},       onSuccess: function(t){         r=t.responseJSON;         if (r.code==0){           $('TI_MENSUAL').value=r.data[0].TI_MENSUAL;           $('TI_MORA').value=r.data[0].TI_MORA;           $('TI_COMPENSA').value=r.data[0].TI_COMPENSA;           $('GA').value=r.data[0].GA;           $('MONTO_MIN').value=r.data[0].MONTO_MIN;           $('MONTO_MAX').value=r.data[0].MONTO_MAX;           $('CUOTA_MIN').value=r.data[0].CUOTA_MIN;           $('CUOTA_MAX').value=r.data[0].CUOTA_MAX;           //$('MONTO').focus();         }       }      }  );}function f_capturar_cliente(codigo){  new Ajax.Request(                   '<?=$this->url(array('action'=>'cliente'))?>',  {            method: 'post',            parameters:{ COD: codigo },            onSuccess: function(t ){              r=t.responseJSON;              if ( r.code==0){                $('CLIENTE_COD').value=r.data[0].COD;                $('NOMBRES').value=r.data[0].NOM_LARGO;                $('DIRE').value=r.data[0].DIRE;                $('LOCALIDAD_COD').value=r.data[0].LOCALIDAD_COD;                $('LOCALIDAD_NOM').value=r.data[0].LOCALIDAD_NOM;                $('DIR_NEGOCIO').value=r.data[0].DIR_NEGOCIO                $('LOCALIDAD_NEGOCIO').value=r.data[0].LOCALIDAD_NEGOCIO;                $('LOCALIDAD_NEG_NOM').value=r.data[0].LOCALIDAD_NEG_NOM;                $('CIIU_COD').value=r.data[0].CIIU_COD;                $('CIIU_NOM').value=r.data[0].CIIU_NOM;                Quipu.tree=$('tr');                Quipu.treeAdd($('tr'),r.informe);                $('ORIGEN').focus();              }            }  });}function f_capturar_ciiu(codigo){  new Ajax.Request(                   '<?=$this->url(array('action'=>'ciiu'))?>',  {            method: 'post',            parameters:{ COD: codigo },            onSuccess: function(t ){              r=t.responseJSON;              if ( r.code==0){                $('CIIU_COD').value=r.data[0].COD;                $('CIIU_NOM').value=r.data[0].NOM;              }            }  });}function f_capturar_aval(codigo){  new Ajax.Request(                   '<?=$this->url(array('action'=>'cliente'))?>',  {            method: 'post',            parameters:{ COD: codigo },            onSuccess: function(t ){              r=t.responseJSON;                            if ( r.code==0){                if (r.data[0].COD==aval1)                  Quipu.alertError('El aval ya ha sido asignado anteriormente');                else{                  var newListItem = document.createElementNS(XUL_NS, "listitem");                   cellCodigo=document.createElementNS(XUL_NS, "listcell");                  cellNombres=document.createElementNS(XUL_NS, "listcell");                  cellDireccion=document.createElementNS(XUL_NS, "listcell");                  cellCodigo.setAttribute('label',r.data[0].COD);                  cellNombres.setAttribute('label',r.data[0].NOM_LARGO);                  cellDireccion.setAttribute('label',r.data[0].DIRE);                  newListItem.appendChild(cellCodigo);                  newListItem.appendChild(cellNombres);                  newListItem.appendChild(cellDireccion);                  newListItem.setAttribute('value',r.data[0].COD);                  $('lb').appendChild(newListItem);                                 if (aval1=='') aval1=r.data[0].COD;                  else{                  aval1=r.data[0].COD;                  }                }              }            }  });}function f_buscar_cliente(){  var bcliente=window.open("<?=$this->url(array('controller'=>'cliente',action=>'buscar'))?>?f=f_capturar_cliente","bc","chrome,dialog,modal,titlebar=no,height=400,width=600");  bcliente.creator=self;}function f_buscar_codigo_cliente(obj){  if (obj==null) obj=$('CLIENTE_COD');  if (obj.value==''){    f_buscar_cliente()  }  else{    f_capturar_cliente(obj.value);  }  //alert('vamos a buscar el código');}function f_buscar_codigo_ciiu(){  var bciiu=window.open("<?=$this->url(array('controller'=>'credito',action=>'buscarciiu'))?>?f=f_capturar_ciiu","bc","chrome,dialog,modal,titlebar=no,height=400,width=600");  bciiu.creator=self;}function f_imprimir(){  url="<?=$this->url(array('controller'=>'cronograma','action'=>'index'))?>/index/f/"+$('FEC').value+"/p/"+$('PLAZO').value+"/m/"+$('MONTO').value+"/t/"+$('TI_MENSUAL').value+'/LINEA_COD/'+$('LINEA_COD').value+'/MODALIDAD_COD/'+$('MODALIDAD_COD').value+'/o/'+$('GA').value;  //alert(url);  Quipu.print(url,null,'<?=$this->baseUrl()?>');}function f_validar(){  if(!($('DOC_VIV').checked) || !($('DOC_PER').checked) || !($('DOC_PER').checked)){    alert('No se ha entregado ningun Documento');    return false;  }  /*  if (aval1=='') {    Quipu.alertError("Debe de asignar un Aval.");    return false;  }*/  v=new Validate();  v.addRules({id:'FEC', required: true, option: 'date', label: 'Fecha'});  v.addRules({id:'CLIENTE_COD',required:true, label:'Cliente'});  //  v.addRules({id:'DIR_NEGOCIO',required:true, label:'Dirección de Negocio'});  v.addRules({id:'MONTO',required: true, option:'decimalRange',min:$('MONTO_MIN').value,max:$('MONTO_MAX').value,label:'Monto'});  v.addRules({id:'PLAZO',required: true, option:'integerRange',min:$('CUOTA_MIN').value,max:$('CUOTA_MAX').value,label:'Plazo '});  v.addRules({id:'DEP_ADULTO',required: true, option:'Number', label:'Dependientes Adultos'});  v.addRules({id:'DEP_MENOR',required: true, option:'Number',label: 'Dependientes Niños'});  v.addRules({id:'VAL_INMUEBLE',required: true, option:'Decimal', label:'Valor de Inmuebles'});  v.addRules({id:'VAL_MUEBLE_CLIENTE',required: true, option:'Decimal',label:'Valor de Muebles de Cliente'});  v.addRules({id:'VAL_MUEBLE_NEGOCIO',required: true, option:'Decimal', label:'Valor de Muebles del Negocio'});  v.addRules({id:'SAL_TOT_1',required: true, option:'Decimal', label:'Saldo Total de Créditos 1'});  v.addRules({id:'SAL_TOT_2',required: true, option:'Decimal', label:'Saldo Total de Creditos 2'});  v.addRules({id:'ACREEDOR',required: false, label:'Acreedores'});  v.addRules({id:'CAP_TRAB_EFECTIVO',required: true, option:'Decimal', label:'Capital de Trabajo en Efectivo'});  v.addRules({id:'CAP_TRAB_MERCA',required: true, option:'Decimal', label:'Capital de Trabajo de Mercaderia'});  v.addRules({id:'VENT_ING',required: true, option:'Decimal', label:'Ventas e Ingresos'});  v.addRules({id:'OTROS_ING',required: true, option:'Decimal', label:'Otros Ingresos'});  v.addRules({id:'COSTO_INSUMO',required: true, option:'Decimal', label:'Costo de Insumos'});  v.addRules({id:'GASTO_FAMILIAR',required: true, option:'Decimal', label:'Gasto Familiar'});  v.addRules({id:'GASTO_NEGOCIO',required: true, option:'Decimal', label:'Gasto del Negocio'});  v.addRules({id:'PAGO_PROM_1',required: true, option:'Decimal', label:'Pago Promedio de Credito 1'});  v.addRules({id:'PAGO_PROM_2',required: true, option:'Decimal', label:'Pago Promedio de Credito 2'});  v.addRules({id:'PAGO_PROM_ACREEDOR',required: true, option:'Decimal', label:'Pago Promedio a Acreedores'});  v.addRules({id:'GASTO_PERSONAL',required: true, option:'Decimal', label:'Gasto Personal'});  v.addRules({id:'SALDO',required: true, option:'Decimal', label:'Saldo'});  v.addRules({id:'OPINION_ANALISTA',required: true,label:"Opinión de Analista"});  return v.Apply();}//Cambiando tarifa segun Destinofunction f_cambiar_modalidad(){  if ($('MODALIDAD_COD').value=='E'){    new Ajax.Request(                      '<?=$this->url(array('controller'=>'cliente','action'=>'tarifa'))?>',    { method:'post',               parameters: {COD: $('CLIENTE_COD').value},                onSuccess: function(t) {                 r=t.responseJSON;                 if (r.code==0){                    rs=r.data;                   if(rs.TI_MENSUAL!=null){                     $('TI_MENSUAL').value=rs.TI_MENSUAL;                     $('TI_MORA').value=rs.TI_MORA;                     $('TI_COMPENSA').value=rs.TI_COMPENSA;                   }                 }                }     } );  }  else {    f_capturar_linea();  }}function f_calcular_negocio(){  //alert($('COSTO_INSUMO').value);  $('SALDO').value=eval($('VENT_ING').value)    +eval($('OTROS_ING').value)    -(eval($('COSTO_INSUMO').value)    +eval($('GASTO_FAMILIAR').value)    +eval($('GASTO_NEGOCIO').value)    +eval($('GASTO_PERSONAL').value)    +eval($('PAGO_PROM_1').value)    +eval($('PAGO_PROM_2').value)    +eval($('PAGO_PROM_ACREEDOR').value)      )}</script><groupbox>  <caption label='<?=$this->subTitle?>' />  <hbox><label value="Código"/><textbox id="COD" size="12" readonly="true" value="<?=$this->cod?>"/>  <label value="Fecha" control="FEC"/><datepicker id="FEC" value="<?=date('Y-m-d')?>" type="popup"/></hbox>  <hbox><label value='Analista' control='ANALISTA_COD'/>  <menulist id='ANALISTA_COD'>  <menupopup>  <?foreach($this->analistas as $analista){?>  <menuitem label='<?=$analista->NOM_LARGO?>' value='<?=$analista->COD?>' />                                           <?}?>  </menupopup>  </menulist></hbox><tabbox>  <tabs>    <tab label="Crédito"/>    <tab label="Avales y Garantias"/>    <tab label="Evaluación de Cliente"/>    <tab label="Evaluación de Crédito"/>    <tab label="Observaciones"/>  </tabs>  <tabpanels>    <tabpanel orient="vertical">      <groupbox>        <caption label="Datos del Cliente"/>        <grid>          <columns>            <column/>            <column/>          </columns>          <rows>            <row>              <label value="Cliente"/><hbox><textbox id="CLIENTE_COD" size="12" onchange="f_buscar_codigo_cliente()"/> <textbox id="NOMBRES" readonly="true" size="58"/> <button image="<?=$this->baseUrl()?>/www/img/icons/search.png" oncommand="f_buscar_cliente()"/></hbox>            </row>            <row>              <label value="Dirección"/> <hbox><textbox id="DIRE" readonly="true" size="40"/> <label value="Localidad"/><textbox id="LOCALIDAD_COD" size="6" readonly="true"/><textbox id="LOCALIDAD_NOM" readonly="true"/></hbox>            </row>            <row>              <label value='Dir. Negocio' control='DIR_NEGOCIO'/><hbox><textbox id='DIR_NEGOCIO' size="40" readonly="true"/> <label value="Loc. Neg."/><textbox id="LOCALIDAD_NEGOCIO" size="6" readonly="true"/><textbox id="LOCALIDAD_NEG_NOM" readonly="true"/></hbox>            </row>            <row>              <label value="CIIU" control="CIIU_COD"/><hbox>              <textbox id='CIIU_COD' readonly="true" size="12"/>              <textbox id='CIIU_NOM' readonly="true" size="40"/><button image="<?=$this->baseUrl()?>/www/img/icons/search.png" oncommand="f_buscar_codigo_ciiu()"/>            </hbox>          </row>        </rows>      </grid>      <groupbox>        <caption label="Documentos entregados"/>        <hbox>          <checkbox id="DOC_VIV" label="de Vivienda" value="1"/>          <checkbox id="DOC_PER" label="Personal" value="1"/>          <checkbox id="DOC_NEG" label="de Negocio" value="1"/>        </hbox>      </groupbox>    </groupbox>    <groupbox>      <caption label="Datos del Crédito"/>      <hbox>        <label value="Línea"/><menulist id="LINEA_COD" oncommand="f_capturar_linea()">        <menupopup>          <? foreach($this->lineas as $linea){?>          <menuitem label="<?=$linea->NOM?>" value="<?=$linea->COD?>"/>          <? }?>        </menupopup>      </menulist>    </hbox>    <grid>      <columns>        <column/>        <column/>        <column/>        <column/>      </columns>      <rows>        <row>          <label value="Tasa Mensual" control="TI_MENSUAL"/>          <label value="Tasa Moratoria" control="TI_MORA"/>          <label value="Tasa Compensatoria" control="TI_COMPENSA"/>          <label value="G.Administrativo"/>        </row>        <row>          <textbox id="TI_MENSUAL" readonly="true" size="10"/>          <textbox id="TI_MORA" readonly="true" size="10"/>          <textbox id="TI_COMPENSA" readonly="true" size="10"/>          <textbox id="GA" readonly="true" size="10"/>        </row>        <row>          <label value="Monto Mínimo" control="MONTO_MIN"/>          <label value="Monto Máximo" control="MONTO_MAX"/>          <label value="Plazo Mínimo" control="CUOTA_MIN"/>          <label value="Plazo Máximo" control="CUOTA_MAX"/>        </row>        <row>          <textbox id="MONTO_MIN" size="10" maxlength="11" readonly="true"/>          <textbox id="MONTO_MAX" size="10" maxlength="11" readonly="true"/>          <textbox id="CUOTA_MIN" size="10" maxlength="11" readonly="true"/>          <textbox id="CUOTA_MAX" size="10" maxlength="11" readonly="true"/>        </row>      </rows>    </grid>    <grid>      <columns>        <column/>        <column/>        <column/>        <column/>      </columns>      <rows>        <row>          <label value="Modalidad"/>          <menulist id="MODALIDAD_COD" oncommand="f_cambiar_modalidad()">            <menupopup>              <? foreach($this->modalidades as $modalidad){?>              <menuitem label="<?=$modalidad->NOM?>" value="<?=$modalidad->COD?>" />              <? }?>            </menupopup>          </menulist>          <label value="Destino"/>            <menulist id="DESTINO_COD" >            <menupopup>              <? foreach($this->destinos as $destino){?>              <menuitem label="<?=$destino->NOM?>" value="<?=$destino->COD?>"/>              <? }?>            </menupopup>          </menulist>        </row>        <row>          <label value="Monto" class="negrita"/><textbox id="MONTO" size="10"/><label value="Plazo" class="negrita"/> <textbox id="PLAZO" size="10"/>        </row>      </rows>    </grid>  </groupbox></tabpanel><!--Avales --><tabpanel>  <hbox flex="1">    <listbox id="lb" rows="10" flex="1">      <listhead>        <listheader label="Código"/>        <listheader label="Nombres"/>        <listheader label="Dirección"/>      </listhead>      <listcols>        <listcol/>        <listcol flex="1"/>        <listcol flex="1"/>      </listcols>    </listbox>    <vbox>      <button image="<?=$this->baseUrl()?>/www/img/icons/new.png" onclick="f_anadir_aval()"/>    </vbox>  </hbox></tabpanel><!--Evaluacion de Cliente--><tabpanel orient="horizontal"><groupbox><caption label="Analísis del Cliente"/>            <grid>            <columns>            <column />            <column />            </columns>            <rows>            <row><label value='Dependientes Adultos Nº' control='DEP_ADULTO'/><textbox id='DEP_ADULTO' maxlength='10'/></row>            <row><label value='Dependientes Niños Nº' control='DEP_MENOR'/><textbox id='DEP_MENOR' maxlength='10'/></row>            <row><label value='Valor de Inmuebles' control='VAL_INMUEBLE'/><textbox id='VAL_INMUEBLE' maxlength='11'/></row>            <row><label value='Valor de Bienes Muebles del Cliente' control='VAL_MUEBLE_CLIENTE'/><textbox id='VAL_MUEBLE_CLIENTE' maxlength='11'/></row>            <row><label value='Valores de Bienes Muebles del Negocio' control='VAL_MUEBLE_NEGOCIO'/><textbox id='VAL_MUEBLE_NEGOCIO' maxlength='11'/></row>            <row><label value='Saldo Total de Créditos: 1' control='SAL_TOT_1'/><textbox id='SAL_TOT_1' maxlength='11'/></row>            <row><label value='Salto Total de Créditos: 2' control='SAL_TOT_2'/><textbox id='SAL_TOT_2' maxlength='11'/></row>            <row><label value='Acreedores' control='ACREEDOR'/><textbox id='ACREEDOR' maxlength='255'/></row>            <row><label value='Cap. de Trabajo en Efectivo al día de hoy' control='CAP_TRAB_EFECTIVO'/><textbox id='CAP_TRAB_EFECTIVO' maxlength='11'/></row>            <row><label value='Cap. de Trabajo en Mercaderias' control='CAP_TRAB_MERCA'/><textbox id='CAP_TRAB_MERCA' maxlength='11'/></row>            </rows>            </grid></groupbox><groupbox><caption label="Analísis del Negocio"/>            <grid>            <columns>            <column />            <column />            </columns>            <rows>            <row><label value='+ Ventas/Ingresos' control='VENT_ING'/><textbox id='VENT_ING' maxlength='11'/></row>            <row><label value='+ Otros Ingresos' control='OTROS_ING'/><textbox id='OTROS_ING' maxlength='11'/></row>            <row><label value='- Costo de Insumos y/o Productos del Negocio' control='COSTO_INSUMO'/><textbox id='COSTO_INSUMO' maxlength='11'/></row>            <row><label value='- Gastos Familiares' control='GASTO_FAMILIAR'/><textbox id='GASTO_FAMILIAR' maxlength='11'/></row>            <row><label value='- Gastos de Negocio' control='GASTO_NEGOCIO'/><textbox id='GASTO_NEGOCIO' maxlength='11'/></row>            <row><label value='- Pago Promedio de Créditos: 1' control='PAGO_PROM_1'/><textbox id='PAGO_PROM_1' maxlength='11'/></row>            <row><label value='- Pago Promedio de Créditos: 2' control='PAGO_PROM_2'/><textbox id='PAGO_PROM_2' maxlength='11'/></row>            <row><label value='- Pago Promedio de Acreedores' control='PAGO_PROM_ACREEDOR'/><textbox id='PAGO_PROM_ACREEDOR' maxlength='11'/></row>            <row><label value='- Gastos Personales' control='GASTO_PERSONAL'/><textbox id='GASTO_PERSONAL' maxlength='11'/></row>            <row><label value='(+)(-) Saldo para Pagar' control='SALDO'/><textbox id='SALDO' maxlength='11' onfocus="f_calcular_negocio()"/></row>            </rows>            </grid></groupbox></tabpanel><!--Evaluacion de Credito--><tabpanel orient="vertical"><groupbox><caption label="Evaluación de Últimos 2 Créditos"/><tree id="tr" flex="1" enableColumnDrag="true" rows="2"><treecols><treecol label="Crédito" flex="1"/><splitter class="tree-splitter" /><treecol label="Monto"/><splitter class="tree-splitter" /><treecol label="Plazo"/><splitter class="tree-splitter" /><treecol label="Fec.Fin" flex="1"/><splitter class="tree-splitter" /><treecol label="C.Pagadas" /><splitter class="tree-splitter" /><treecol label="Dias de Mora"/><splitter class="tree-splitter" /><treecol label="C.Adelantadas" /><splitter class="tree-splitter" /><treecol label="C.Adel.Pagadas" /><splitter class="tree-splitter" /><treecol label="C.Vencidas"/><splitter class="tree-splitter" /><treecol label="Fec.Ult.Pago" flex="1"/></treecols><treechildren></treechildren></tree></groupbox><groupbox  orient="horizontal"><caption label="Datos de Crédito"/>            <grid flex="1">            <columns>            <column />            <column flex="1"/>            </columns>            <rows>            <row><label value='Opinión del Analista' control='OPINION_ANALISTA'/><textbox id='OPINION_ANALISTA' multiline="true" oninput="this.value=this.value.toUpperCase()"/></row>  <row><label value='Informe de la Central de Riesgo' control='OPINION_SBS'/>  <menulist id='OPINION_SBS'>  <menupopup>  <?foreach($this->opiniones as $opinion){ ?>  <menuitem label='<?=$opinion->NOM?>' value='<?=$opinion->COD?>' />                                           <? } ?>  </menupopup>  </menulist></row>            </rows>            </grid>            </groupbox></tabpanel><tabpanel orient="vertical">    <label value='Comentarios y Observaciones' control='OBS'/><textbox id='OBS' multiline="true" rows="20"  oninput="this.value=this.value.toUpperCase()" flex="1"/></tabpanel></tabpanels></tabbox><hbox><button label="Cronograma de Pagos" image="<?=$this->baseUrl()?>/www/img/icons/cronograma.png" oncommand="f_imprimir()" /><button label="Guardar" image="<?=$this->baseUrl()?>/www/img/icons/ok.png" oncommand="f_guardar()"/></hbox></groupbox></window>